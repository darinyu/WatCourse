(function(e){if(typeof define==="function"&&define.amd){define(["jquery","moment"],e)}else{e(jQuery,moment)}})(function(e,t){function r(e,t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")}function i(e,t){var n=t.longDateFormat("L");n=n.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,"");if(e.isRTL){n+=" ddd"}else{n="ddd "+n}return n}function f(e){l(n,e)}function l(t){function n(n,r){if(e.isPlainObject(r)&&e.isPlainObject(t[n])&&!c(n)){t[n]=l({},t[n],r)}else if(r!==undefined){t[n]=r}}for(var r=1;r<arguments.length;r++){e.each(arguments[r],n)}return t}function c(e){return/(Time|Duration)$/.test(e)}function h(r,i){function d(e){var n=t.localeData||t.langData;return n.call(t,e)||n.call(t,"en")}function M(e){if(!x){_()}else if(H()){I();j(e)}}function _(){T=c.theme?"ui":"fc";r.addClass("fc");if(c.isRTL){r.addClass("fc-rtl")}else{r.addClass("fc-ltr")}if(c.theme){r.addClass("ui-widget")}else{r.addClass("fc-unthemed")}x=e("<div class='fc-view-container'/>").prependTo(r);E=new p(f,c);S=E.render();if(S){r.prepend(S)}B(c.defaultView);if(c.handleWindowResize){k=R(z,c.windowResizeDelay);e(window).resize(k)}}function D(){if(N){N.destroy()}E.destroy();x.remove();r.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget");e(window).unbind("resize",k)}function H(){return r.is(":visible")}function B(e){j(0,e)}function j(t,n){L++;if(N&&n&&N.name!==n){E.deactivateButton(N.name);ht();if(N.start){N.destroy()}N.el.remove();N=null}if(!N&&n){N=new a[n](f);N.el=e("<div class='fc-view fc-"+n+"-view' />").appendTo(x);E.activateButton(n)}if(N){if(t){A=N.incrementDate(A,t)}if(!N.start||t||!A.isWithin(N.intervalStart,N.intervalEnd)){if(H()){ht();if(N.start){N.destroy()}N.render(A);pt();Z();et();$()}}}pt();L--}function F(e){if(H()){if(e){U()}L++;N.updateSize(true);L--;return true}}function I(){if(H()){U()}}function U(){if(typeof c.contentHeight==="number"){C=c.contentHeight}else if(typeof c.height==="number"){C=c.height-(S?S.outerHeight(true):0)}else{C=Math.round(x.width()/Math.max(c.aspectRatio,.5))}}function z(e){if(!L&&e.target===window&&N.start){if(F(true)){N.trigger("windowResize",w)}}}function W(){V();K()}function X(){if(H()){ht();N.destroyEvents();N.renderEvents(O);pt()}}function V(){ht();N.destroyEvents();pt()}function $(){if(!c.lazyFetching||y(N.start,N.end)){K()}else{X()}}function K(){b(N.start,N.end)}function Q(e){O=e;X()}function G(){X()}function Z(){E.updateTitle(N.title)}function et(){var e=f.getNow();if(e.isWithin(N.intervalStart,N.intervalEnd)){E.disableButton("today")}else{E.enableButton("today")}}function tt(e,t){e=f.moment(e);if(t){t=f.moment(t)}else if(e.hasTime()){t=e.clone().add(f.defaultTimedEventDuration)}else{t=e.clone().add(f.defaultAllDayEventDuration)}N.select(e,t)}function nt(){if(N){N.unselect()}}function rt(){j(-1)}function it(){j(1)}function st(){A.add(-1,"years");j()}function ot(){A.add(1,"years");j()}function ut(){A=f.getNow();j()}function at(e){A=f.moment(e);j()}function ft(e){A.add(t.duration(e));j()}function lt(e,t){var n;var r;if(!t||a[t]===undefined){t=t||"day";n=E.getViewsWithButtons().join(" ");r=n.match(new RegExp("\\w+"+q(t)));if(!r){r=n.match(/\w+Day/)}t=r?r[0]:"agendaDay"}A=e;B(t)}function ct(){return A.clone()}function ht(){x.css({width:"100%",height:x.height(),overflow:"hidden"})}function pt(){x.css({width:"",height:"",overflow:""})}function dt(){return f}function vt(){return N}function mt(e,t){if(t===undefined){return c[e]}if(e=="height"||e=="contentHeight"||e=="aspectRatio"){c[e]=t;F(true)}}function gt(e,t){if(c[e]){return c[e].apply(t||w,Array.prototype.slice.call(arguments,2))}}var f=this;i=i||{};var c=l({},n,i);var h;if(c.lang in s){h=s[c.lang]}else{h=s[n.lang]}if(h){c=l({},n,h,i)}if(c.isRTL){c=l({},n,o,h||{},i)}f.options=c;f.render=M;f.destroy=D;f.refetchEvents=W;f.reportEvents=Q;f.reportEventChange=G;f.rerenderEvents=X;f.changeView=B;f.select=tt;f.unselect=nt;f.prev=rt;f.next=it;f.prevYear=st;f.nextYear=ot;f.today=ut;f.gotoDate=at;f.incrementDate=ft;f.zoomTo=lt;f.getDate=ct;f.getCalendar=dt;f.getView=vt;f.option=mt;f.trigger=gt;var v=P(d(c.lang));if(c.monthNames){v._months=c.monthNames}if(c.monthNamesShort){v._monthsShort=c.monthNamesShort}if(c.dayNames){v._weekdays=c.dayNames}if(c.dayNamesShort){v._weekdaysShort=c.dayNamesShort}if(c.firstDay!=null){var g=P(v._week);g.dow=c.firstDay;v._week=g}f.defaultAllDayEventDuration=t.duration(c.defaultAllDayEventDuration);f.defaultTimedEventDuration=t.duration(c.defaultTimedEventDuration);f.moment=function(){var e;if(c.timezone==="local"){e=u.moment.apply(null,arguments);if(e.hasTime()){e.local()}}else if(c.timezone==="UTC"){e=u.moment.utc.apply(null,arguments)}else{e=u.moment.parseZone.apply(null,arguments)}if("_locale"in e){e._locale=v}else{e._lang=v}return e};f.getIsAmbigTimezone=function(){return c.timezone!=="local"&&c.timezone!=="UTC"};f.rezoneDate=function(e){return f.moment(e.toArray())};f.getNow=function(){var e=c.now;if(typeof e==="function"){e=e()}return f.moment(e)};f.calculateWeekNumber=function(e){var t=c.weekNumberCalculation;if(typeof t==="function"){return t(e)}else if(t==="local"){return e.week()}else if(t.toUpperCase()==="ISO"){return e.isoWeek()}};f.getEventEnd=function(e){if(e.end){return e.end.clone()}else{return f.getDefaultEventEnd(e.allDay,e.start)}};f.getDefaultEventEnd=function(e,t){var n=t.clone();if(e){n.stripTime().add(f.defaultAllDayEventDuration)}else{n.add(f.defaultTimedEventDuration)}if(f.getIsAmbigTimezone()){n.stripZone()}return n};f.formatRange=function(e,t,n){if(typeof n==="function"){n=n.call(f,c,v)}return Y(e,t,n,null,c.isRTL)};f.formatDate=function(e,t){if(typeof t==="function"){t=t.call(f,c,v)}return J(e,t)};m.call(f,c);var y=f.isFetchNeeded;var b=f.fetchEvents;var w=r[0];var E;var S;var x;var T;var N;var C;var k;var L=0;var A;var O=[];if(c.defaultDate!=null){A=f.moment(c.defaultDate)}else{A=f.getNow()}f.getSuggestedViewHeight=function(){if(C===undefined){I()}return C};f.isHeightAuto=function(){return c.contentHeight==="auto"||c.height==="auto"}}function p(t,n){function u(){var t=n.header;o=n.theme?"ui":"fc";if(t){i=e("<div class='fc-toolbar'/>").append(l("left")).append(l("right")).append(l("center")).append('<div class="fc-clear"/>');return i}}function f(){i.remove()}function l(r){var i=e('<div class="fc-'+r+'"/>');var u=n.header[r];if(u){e.each(u.split(" "),function(r){var u=e();var f=true;var l;e.each(this.split(","),function(r,i){var l;var c;var h;var p;var d;var v;var m;var g;if(i=="title"){u=u.add(e("<h2>&nbsp;</h2>"));f=false}else{if(t[i]){l=function(){t[i]()}}else if(a[i]){l=function(){t.changeView(i)};s.push(i)}if(l){c=A(n.themeButtonIcons,i);h=A(n.buttonIcons,i);p=A(n.defaultButtonText,i);d=A(n.buttonText,i);if(d){v=F(d)}else if(c&&n.theme){v="<span class='ui-icon ui-icon-"+c+"'></span>"}else if(h&&!n.theme){v="<span class='fc-icon fc-icon-"+h+"'></span>"}else{v=F(p||i)}m=["fc-"+i+"-button",o+"-button",o+"-state-default"];g=e('<button type="button" class="'+m.join(" ")+'">'+v+"</button>").click(function(){if(!g.hasClass(o+"-state-disabled")){l();if(g.hasClass(o+"-state-active")||g.hasClass(o+"-state-disabled")){g.removeClass(o+"-state-hover")}}}).mousedown(function(){g.not("."+o+"-state-active").not("."+o+"-state-disabled").addClass(o+"-state-down")}).mouseup(function(){g.removeClass(o+"-state-down")}).hover(function(){g.not("."+o+"-state-active").not("."+o+"-state-disabled").addClass(o+"-state-hover")},function(){g.removeClass(o+"-state-hover").removeClass(o+"-state-down")});u=u.add(g)}}});if(f){u.first().addClass(o+"-corner-left").end().last().addClass(o+"-corner-right").end()}if(u.length>1){l=e("<div/>");if(f){l.addClass("fc-button-group")}l.append(u);i.append(l)}else{i.append(u)}})}return i}function c(e){i.find("h2").text(e)}function h(e){i.find(".fc-"+e+"-button").addClass(o+"-state-active")}function p(e){i.find(".fc-"+e+"-button").removeClass(o+"-state-active")}function d(e){i.find(".fc-"+e+"-button").attr("disabled","disabled").addClass(o+"-state-disabled")}function v(e){i.find(".fc-"+e+"-button").removeAttr("disabled").removeClass(o+"-state-disabled")}function m(){return s}var r=this;r.render=u;r.destroy=f;r.updateTitle=c;r.activateButton=h;r.deactivateButton=p;r.disableButton=d;r.enableButton=v;r.getViewsWithButtons=m;var i=e();var s=[];var o}function m(t){function b(e,t){return!l||e.clone().stripZone()<l.clone().stripZone()||t.clone().stripZone()>c.clone().stripZone()}function w(e,t){l=e;c=t;y=[];var n=++h;var r=f.length;p=r;for(var i=0;i<r;i++){E(f[i],n)}}function E(t,n){S(t,function(r){var i=e.isArray(t.events);var o;var u;if(n==h){if(r){for(o=0;o<r.length;o++){u=r[o];if(!i){u=I(u,t)}if(u){y.push(u)}}}p--;if(!p){s(y)}}})}function S(r,i){var s;var o=u.sourceFetchers;var a;for(s=0;s<o.length;s++){a=o[s].call(n,r,l.clone(),c.clone(),t.timezone,i);if(a===true){return}else if(typeof a=="object"){S(a,i);return}}var f=r.events;if(f){if(e.isFunction(f)){H();f.call(n,l.clone(),c.clone(),t.timezone,function(e){i(e);F()})}else if(e.isArray(f)){i(f)}else{i()}}else{var h=r.url;if(h){var p=r.success;var v=r.error;var m=r.complete;var g;if(e.isFunction(r.data)){g=r.data()}else{g=r.data}var y=e.extend({},g||{});var b=j(r.startParam,t.startParam);var w=j(r.endParam,t.endParam);var E=j(r.timezoneParam,t.timezoneParam);if(b){y[b]=l.format()}if(w){y[w]=c.format()}if(t.timezone&&t.timezone!="local"){y[E]=t.timezone}H();e.ajax(e.extend({},d,r,{data:y,success:function(t){t=t||[];var n=B(p,this,arguments);if(e.isArray(n)){t=n}i(t)},error:function(){B(v,this,arguments);i()},complete:function(){B(m,this,arguments);F()}}))}else{i()}}}function x(e){var t=T(e);if(t){f.push(t);p++;E(t,h)}}function T(t){var r=u.sourceNormalizers;var i;var s;if(e.isFunction(t)||e.isArray(t)){i={events:t}}else if(typeof t==="string"){i={url:t}}else if(typeof t==="object"){i=e.extend({},t)}if(i){if(i.className){if(typeof i.className==="string"){i.className=i.className.split(/\s+/)}}else{i.className=[]}if(e.isArray(i.events)){i.origArray=i.events;i.events=e.map(i.events,function(e){return I(e,i)})}for(s=0;s<r.length;s++){r[s].call(n,i)}return i}}function N(t){f=e.grep(f,function(e){return!C(e,t)});y=e.grep(y,function(e){return!C(e.source,t)});s(y)}function C(e,t){return e&&t&&k(e)==k(t)}function k(e){return(typeof e==="object"?e.origArray||e.url||e.events:null)||e}function L(e){e.start=n.moment(e.start);if(e.end){e.end=n.moment(e.end)}q(e);O(e);s(y)}function O(e){var t;var n;var r;var i;for(t=0;t<y.length;t++){n=y[t];if(n._id==e._id&&n!==e){for(r=0;r<A.length;r++){i=A[r];if(e[i]!==undefined){n[i]=e[i]}}}}}function _(e,t){var n=I(e);if(n){if(!n.source){if(t){a.events.push(n);n.source=a}y.push(n)}s(y)}}function D(t){var n;var r;if(t==null){t=function(){return true}}else if(!e.isFunction(t)){n=t+"";t=function(e){return e._id==n}}y=e.grep(y,t,true);for(r=0;r<f.length;r++){if(e.isArray(f[r].events)){f[r].events=e.grep(f[r].events,t,true)}}s(y)}function P(t){if(e.isFunction(t)){return e.grep(y,t)}else if(t!=null){t+="";return e.grep(y,function(e){return e._id==t})}return y}function H(){if(!(m++)){r("loading",null,true,i())}}function F(){if(!--m){r("loading",null,false,i())}}function I(r,i){var s={};var u;var a;var f;var l;if(t.eventDataTransform){r=t.eventDataTransform(r)}if(i&&i.eventDataTransform){r=i.eventDataTransform(r)}u=n.moment(r.start||r.date);if(!u.isValid()){return}a=null;if(r.end){a=n.moment(r.end);if(!a.isValid()){return}}f=r.allDay;if(f===undefined){l=j(i?i.allDayDefault:undefined,t.allDayDefault);if(l!==undefined){f=l}else{f=!u.hasTime()&&(!a||!a.hasTime())}}if(f){if(u.hasTime()){u.stripTime()}if(a&&a.hasTime()){a.stripTime()}}else{if(!u.hasTime()){u=n.rezoneDate(u)}if(a&&!a.hasTime()){a=n.rezoneDate(a)}}e.extend(s,r);if(i){s.source=i}s._id=r._id||(r.id===undefined?"_fc"+v++:r.id+"");if(r.className){if(typeof r.className=="string"){s.className=r.className.split(/\s+/)}else{s.className=r.className}}else{s.className=[]}s.allDay=f;s.start=u;s.end=a;if(t.forceEventDuration&&!s.end){s.end=o(s)}g(s);return s}function q(e,t,r){var i=e._allDay;var s=e._start;var o=e._end;var u=false;var a;var f;var l;var c;if(!t&&!r){t=e.start;r=e.end}if(e.allDay!=i){a=e.allDay}else{a=!(t||r).hasTime()}if(a){if(t){t=t.clone().stripTime()}if(r){r=r.clone().stripTime()}}if(t){if(a){f=M(t,s.clone().stripTime())}else{f=M(t,s)}}if(a!=i){u=true}else if(r){l=M(r||n.getDefaultEventEnd(a,t||s),t||s).subtract(M(o||n.getDefaultEventEnd(i,s),s))}c=R(P(e._id),u,a,f,l);return{dateDelta:f,durationDelta:l,undo:c}}function R(r,i,s,o,u){var a=n.getIsAmbigTimezone();var f=[];e.each(r,function(e,r){var l=r._allDay;var c=r._start;var h=r._end;var p=s!=null?s:l;var d=c.clone();var v=!i&&h?h.clone():null;if(p){d.stripTime();if(v){v.stripTime()}}else{if(!d.hasTime()){d=n.rezoneDate(d)}if(v&&!v.hasTime()){v=n.rezoneDate(v)}}if(!v&&(t.forceEventDuration||+u)){v=n.getDefaultEventEnd(p,d)}d.add(o);if(v){v.add(o).add(u)}if(a){if(+o||+u){d.stripZone();if(v){v.stripZone()}}}r.allDay=p;r.start=d;r.end=v;g(r);f.push(function(){r.allDay=l;r.start=c;r.end=h;g(r)})});return function(){for(var e=0;e<f.length;e++){f[e]()}}}var n=this;n.isFetchNeeded=b;n.fetchEvents=w;n.addEventSource=x;n.removeEventSource=N;n.updateEvent=L;n.renderEvent=_;n.removeEvents=D;n.clientEvents=P;n.mutateEvent=q;var r=n.trigger;var i=n.getView;var s=n.reportEvents;var o=n.getEventEnd;var a={events:[]};var f=[a];var l,c;var h=0;var p=0;var m=0;var y=[];e.each((t.events?[t.events]:[]).concat(t.eventSources||[]),function(e,t){var n=T(t);if(n){f.push(n)}});var A=["title","url","allDay","className","editable","color","backgroundColor","borderColor","textColor"]}function g(e){e._allDay=e.allDay;e._start=e.start.clone();e._end=e.end?e.end.clone():null}function y(e,t){if(t.left){e.css({"border-left-width":1,"margin-left":t.left-1})}if(t.right){e.css({"border-right-width":1,"margin-right":t.right-1})}}function b(e){e.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function w(t,n,r){var i=Math.floor(n/t.length);var s=Math.floor(n-i*(t.length-1));var o=[];var u=[];var a=[];var f=0;E(t);t.each(function(n,r){var l=n===t.length-1?s:i;var c=e(r).outerHeight(true);if(c<l){o.push(r);u.push(c);a.push(e(r).height())}else{f+=c}});if(r){n-=f;i=Math.floor(n/o.length);s=Math.floor(n-i*(o.length-1))}e(o).each(function(t,n){var r=t===o.length-1?s:i;var f=u[t];var l=a[t];var c=r-(f-l);if(f<r){e(n).height(c)}})}function E(e){e.height("")}function S(t){var n=0;t.find("> *").each(function(t,r){var i=e(r).outerWidth();if(i>n){n=i}});n++;t.width(n);return n}function x(e,t){e.height(t).addClass("fc-scroller");if(e[0].scrollHeight-1>e[0].clientHeight){return true}T(e);return false}function T(e){e.height("").removeClass("fc-scroller")}function N(t){var n=t.css("position"),r=t.parents().filter(function(){var t=e(this);return/(auto|scroll)/.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return n==="fixed"||!r.length?e(t[0].ownerDocument||document):r}function C(e){var t=e.offset().left;var n=t+e.width();var r=e.children();var i=r.offset().left;var s=i+r.outerWidth();return{left:i-t,right:n-s}}function k(e){return e.which==1&&!e.ctrlKey}function L(e,t,n,r){var i,s;var o,u;if(t>n&&e<r){if(e>=n){i=e.clone();o=true}else{i=n.clone();o=false}if(t<=r){s=t.clone();u=true}else{s=r.clone();u=false}return{start:i,end:s,isStart:o,isEnd:u}}}function A(e,t){e=e||{};if(e[t]!==undefined){return e[t]}var n=t.split(/(?=[A-Z])/),r=n.length-1,i;for(;r>=0;r--){i=e[n[r].toLowerCase()];if(i!==undefined){return i}}return e["default"]}function M(e,n){return t.duration({days:e.clone().stripTime().diff(n.clone().stripTime(),"days"),ms:e.time()-n.time()})}function _(e){return Object.prototype.toString.call(e)==="[object Date]"||e instanceof Date}function D(e,t){return e-t}function P(e){var t=function(){};t.prototype=e;return new t}function H(e,t){for(var n in t){if(t.hasOwnProperty(n)){e[n]=t[n]}}}function B(t,n,r){if(e.isFunction(t)){t=[t]}if(t){var i;var s;for(i=0;i<t.length;i++){s=t[i].apply(n,r)||s}return s}}function j(){for(var e=0;e<arguments.length;e++){if(arguments[e]!==undefined){return arguments[e]}}}function F(e){return(e+"").replace(/&/g,"&").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function I(e){return e.replace(/&.*?;/g,"")}function q(e){return e.charAt(0).toUpperCase()+e.slice(1)}function R(e,t){var n;var r;var i;var s;var o=function(){var u=+(new Date)-s;if(u<t&&u>0){n=setTimeout(o,t-u)}else{n=null;e.apply(i,r);if(!n){i=r=null}}};return function(){i=this;r=arguments;s=+(new Date);if(!n){n=setTimeout(o,t)}}}function W(n,r,i){var s=n[0];var o=n.length==1&&typeof s==="string";var u;var a;var f;var l;if(t.isMoment(s)){l=t.apply(null,n);if(s._ambigTime){l._ambigTime=true}if(s._ambigZone){l._ambigZone=true}}else if(_(s)||s===undefined){l=t.apply(null,n)}else{u=false;a=false;if(o){if(U.test(s)){s+="-01";n=[s];u=true;a=true}else if(f=z.exec(s)){u=!f[5];a=true}}else if(e.isArray(s)){a=true}if(r){l=t.utc.apply(t,n)}else{l=t.apply(null,n)}if(u){l._ambigTime=true;l._ambigZone=true}else if(i){if(a){l._ambigZone=true}else if(o){l.zone(s)}}}return new X(l)}function X(e){H(this,e)}function V(e,t){var n=[];var r=false;var i=false;var s;for(s=0;s<e.length;s++){n.push(u.moment.parseZone(e[s]));r=r||n[s]._ambigTime;i=i||n[s]._ambigZone}for(s=0;s<n.length;s++){if(r&&!t){n[s].stripTime()}else if(i){n[s].stripZone()}}return n}function $(e,n){return t.fn.format.call(e,n)}function J(e,t){return K(e,rt(t))}function K(e,t){var n="";var r;for(r=0;r<t.length;r++){n+=G(e,t[r])}return n}function G(e,t){var n;var r;if(typeof t==="string"){return t}else if(n=t.token){if(Q[n]){return Q[n](e)}return $(e,n)}else if(t.maybe){r=K(e,t.maybe);if(r.match(/[1-9]/)){return r}}return""}function Y(e,t,n,r,i){var s;e=u.moment.parseZone(e);t=u.moment.parseZone(t);s=(e.localeData||e.lang).call(e);n=s.longDateFormat(n)||n;r=r||" - ";return Z(e,t,rt(n),r,i)}function Z(e,t,n,r,i){var s;var o;var u="";var a;var f="";var l;var c="";var h="";var p="";for(o=0;o<n.length;o++){s=tt(e,t,n[o]);if(s===false){break}u+=s}for(a=n.length-1;a>o;a--){s=tt(e,t,n[a]);if(s===false){break}f=s+f}for(l=o;l<=a;l++){c+=G(e,n[l]);h+=G(t,n[l])}if(c||h){if(i){p=h+r+c}else{p=c+r+h}}return u+p+f}function tt(e,t,n){var r;var i;if(typeof n==="string"){return n}else if(r=n.token){i=et[r.charAt(0)];if(i&&e.isSame(t,i)){return $(e,r)}}return false}function rt(e){if(e in nt){return nt[e]}return nt[e]=it(e)}function it(e){var t=[];var n=/\[([^\]]*)\]|\(([^\)]*)\)|(LT|(\w)\4*o?)|([^\w\[\(]+)/g;var r;while(r=n.exec(e)){if(r[1]){t.push(r[1])}else if(r[2]){t.push({maybe:it(r[2])})}else if(r[3]){t.push({token:r[3]})}else if(r[5]){t.push(r[5])}}return t}function st(e){this.options=e||{}}function ot(e){this.grid=e}function ut(e){this.coordMaps=e}function at(e,t){this.coordMap=e;this.options=t||{}}function ft(e,t){if(!e&&!t){return true}if(e&&t){return e.grid===t.grid&&e.row===t.row&&e.col===t.col}return false}function lt(t,n){this.options=n=n||{};this.sourceEl=t;this.parentEl=n.parentEl?e(n.parentEl):t.parent()}function ct(e){this.view=e}function ht(e){ct.call(this,e);this.coordMap=new ot(this)}function pt(e,t){return e.eventStartMS-t.eventStartMS||t.eventDurationMS-e.eventDurationMS||t.event.allDay-e.event.allDay||(e.event.title||"").localeCompare(t.event.title)}function dt(e){ht.call(this,e)}function vt(e,t){var n,r;for(n=0;n<t.length;n++){r=t[n];if(r.leftCol<=e.rightCol&&r.rightCol>=e.leftCol){return true}}return false}function mt(e,t){return e.leftCol-t.leftCol}function gt(e){ht.call(this,e)}function yt(e){var t;var n;var r;e.sort(pt);t=bt(e);wt(t);if(n=t[0]){for(r=0;r<n.length;r++){Et(n[r])}for(r=0;r<n.length;r++){St(n[r],0,0)}}}function bt(e){var t=[];var n,r;var i;for(n=0;n<e.length;n++){r=e[n];if(r.placeholder){i=0;r.level=0}else{for(i=0;i<t.length;i++){if(!xt(r,t[i]).length){break}}r.level=i}(t[i]||(t[i]=[])).push(r)}return t}function wt(e){var t,n;var r,i;var s;for(t=0;t<e.length;t++){n=e[t];for(r=0;r<n.length;r++){i=n[r];i.forwardSegs=[];for(s=t+1;s<e.length;s++){xt(i,e[s],i.forwardSegs)}}}}function Et(e){var t=e.forwardSegs;var n=0;var r,i;if(e.forwardPressure===undefined){for(r=0;r<t.length;r++){i=t[r];Et(i);n=Math.max(n,1+i.forwardPressure)}e.forwardPressure=n}}function St(e,t,n){var r=e.forwardSegs;var i;if(e.forwardCoord===undefined){if(!r.length){e.forwardCoord=1}else{r.sort(Nt);St(r[0],t+1,n);e.forwardCoord=r[0].backwardCoord}e.backwardCoord=e.forwardCoord-(e.forwardCoord-n)/(t+1);for(i=0;i<r.length;i++){St(r[i],0,e.forwardCoord)}}}function xt(e,t,n){n=n||[];for(var r=0;r<t.length;r++){if(!t[r].event.placeholder){if(Tt(e,t[r])){n.push(t[r])}}}return n}function Tt(e,t){return e.bottom>t.top&&e.top<t.bottom}function Nt(e,t){return t.forwardPressure-e.forwardPressure||(e.backwardCoord||0)-(t.backwardCoord||0)||pt(e,t)}function Ct(n){function u(t){var n=s[t];if(e.isPlainObject(n)&&!c(t)){return A(n,r.name)}return n}function a(e,t){return n.trigger.apply(n,[e,t||r].concat(Array.prototype.slice.call(arguments,2),[r]))}function f(e){var t=e.source||{};return j(e.startEditable,t.startEditable,u("eventStartEditable"),e.editable,t.editable,u("editable"))}function l(e){var t=e.source||{};return j(e.durationEditable,t.durationEditable,u("eventDurationEditable"),e.editable,t.editable,u("editable"))}function h(e,t,r,s){var o=n.mutateEvent(t,r,null);a("eventDrop",e,t,o.dateDelta,function(){o.undo();i()},s,{});i()}function p(e,t,r,s){var o=n.mutateEvent(t,null,r);a("eventResize",e,t,o.durationDelta,function(){o.undo();i()},s,{});i()}function w(e){if(t.isMoment(e)){e=e.day()}return v[e]}function E(){return m}function S(e,t,n){var r=e.clone();t=t||1;while(v[(r.day()+(n?t:0)+7)%7]){r.add(t,"days")}return r}function x(){var e=T.apply(null,arguments);var t=N(e);var n=C(t);return n}function T(e,t){var n=r.colCnt;var i=b?-1:1;var s=b?n-1:0;if(typeof e=="object"){t=e.col;e=e.row}var o=e*n+(t*i+s);return o}function N(e){var t=r.start.day();e+=g[t];return Math.floor(e/m)*7+y[(e%m+m)%m]-t}function C(e){return r.start.clone().add(e,"days")}function k(e){var t=L(e);var n=O(t);var r=M(n);return r}function L(e){return e.clone().stripTime().diff(r.start,"days")}function O(e){var t=r.start.day();e+=t;return Math.floor(e/7)*m+g[(e%7+7)%7]-g[t]}function M(e){var t=r.colCnt;var n=b?-1:1;var i=b?t-1:0;var s=Math.floor(e/t);var o=(e%t+t)%t*n+i;return{row:s,col:o}}function _(e,t){var n=r.rowCnt;var i=r.colCnt;var s=[];var o=D(e,t);var u=L(o.start);var a=L(o.end);var f=O(u);var l=O(a)-1;for(var c=0;c<n;c++){var h=c*i;var p=h+i-1;var d=Math.max(f,h);var v=Math.min(l,p);if(d<=v){var m=M(d);var g=M(v);var y=[m.col,g.col].sort();var b=N(d)==u;var w=N(v)+1==a;s.push({row:c,leftCol:y[0],rightCol:y[1],isStart:b,isEnd:w})}}return s}function D(e,t){var n=e.clone().stripTime();var r;var i;if(t){r=t.clone().stripTime();i=+t.time();if(i&&i>=o){r.add(1,"days")}}if(!t||r<=n){r=n.clone().add(1,"days")}return{start:n,end:r}}function P(e){var t=D(e.start,e.end);return t.end.diff(t.start,"days")>1}var r=this;r.calendar=n;r.opt=u;r.trigger=a;r.isEventDraggable=f;r.isEventResizable=l;r.eventDrop=h;r.eventResize=p;var i=n.reportEventChange;var s=n.options;var o=t.duration(s.nextDayThreshold);r.init();r.getEventTimeText=function(e,t){var r;var i;if(typeof e==="object"&&typeof t==="object"){r=e;i=t;t=arguments[2]}else{r=e.start;i=e.end}t=t||u("timeFormat");if(i&&u("displayEventEnd")){return n.formatRange(r,i,t)}else{return n.formatDate(r,t)}};r.isHiddenDay=w;r.skipHiddenDays=S;r.getCellsPerWeek=E;r.dateToCell=k;r.dateToDayOffset=L;r.dayOffsetToCellOffset=O;r.cellOffsetToCell=M;r.cellToDate=x;r.cellToCellOffset=T;r.cellOffsetToDayOffset=N;r.dayOffsetToDate=C;r.rangeToSegments=_;r.isMultiDayEvent=P;var d=u("hiddenDays")||[];var v=[];var m;var g=[];var y=[];var b=u("isRTL");(function(){if(u("weekends")===false){d.push(0,6)}for(var t=0,n=0;t<7;t++){g[t]=n;v[t]=e.inArray(t,d)!=-1;if(!v[t]){y[n]=t;n++}}m=n;if(!m){throw"invalid hiddenDays"}})()}function kt(e){Ct.call(this,e);this.dayGrid=new dt(this);this.coordMap=this.dayGrid.coordMap}function Lt(e){kt.call(this,e)}function At(e){kt.call(this,e)}function Ot(e){kt.call(this,e)}function _t(e,t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")}function Dt(e,t){return t.longDateFormat("LT").replace(/\s*a$/i,"")}function Pt(e){Ct.call(this,e);this.timeGrid=new gt(this);if(this.opt("allDaySlot")){this.dayGrid=new dt(this);this.coordMap=new ut([this.dayGrid.coordMap,this.timeGrid.coordMap])}else{this.coordMap=this.timeGrid.coordMap}}function Ht(e){Pt.call(this,e)}function Bt(e){Pt.call(this,e)}var n={lang:"en",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:false,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,weekNumbers:false,weekNumberTitle:"W",weekNumberCalculation:"local",lazyFetching:true,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:false,titleFormat:{month:"MMMM YYYY",week:"ll",day:"LL"},columnFormat:{month:"ddd",week:i,day:"dddd"},timeFormat:{"default":r},displayEventEnd:{month:false,basicWeek:false,"default":true},isRTL:false,defaultButtonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:false,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},annotationOpacity:.5,dragOpacity:.75,dragRevertDuration:500,dragScroll:true,unselectAuto:true,dropAccept:"*",eventLimit:false,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:true,windowResizeDelay:200};var s={en:{columnFormat:{week:"ddd M/D"},dayPopoverFormat:"dddd, MMMM D"}};var o={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var u=e.fullCalendar={version:"2.1.1"};var a=u.views={};e.fn.fullCalendar=function(t){var n=Array.prototype.slice.call(arguments,1);var r=this;this.each(function(i,s){var o=e(s);var u=o.data("fullCalendar");var a;if(typeof t==="string"){if(u&&e.isFunction(u[t])){a=u[t].apply(u,n);if(!i){r=a}if(t==="destroy"){o.removeData("fullCalendar")}}}else if(!u){u=new h(o,t);o.data("fullCalendar",u);u.render()}});return r};u.langs=s;u.datepickerLang=function(t,n,r){var i=s[t];if(!i){i=s[t]={}}l(i,{isRTL:r.isRTL,weekNumberTitle:r.weekHeader,titleFormat:{month:r.showMonthAfterYear?"YYYY["+r.yearSuffix+"] MMMM":"MMMM YYYY["+r.yearSuffix+"]"},defaultButtonText:{prev:I(r.prevText),next:I(r.nextText),today:I(r.currentText)}});if(e.datepicker){e.datepicker.regional[n]=e.datepicker.regional[t]=r;e.datepicker.regional.en=e.datepicker.regional[""];e.datepicker.setDefaults(r)}};u.lang=function(e,t){var r;if(t){r=s[e];if(!r){r=s[e]={}}l(r,t||{})}n.lang=e};u.sourceNormalizers=[];u.sourceFetchers=[];var d={dataType:"json",cache:false};var v=1;var O=["sun","mon","tue","wed","thu","fri","sat"];u.applyAll=B;var U=/^\s*\d{4}-\d\d$/;var z=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/;u.moment=function(){return W(arguments)};u.moment.utc=function(){var e=W(arguments,true);if(e.hasTime()){e.utc()}return e};u.moment.parseZone=function(){return W(arguments,true,true)};X.prototype=P(t.fn);X.prototype.clone=function(){return W([this])};X.prototype.time=function(e){if(e==null){return t.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()})}else{delete this._ambigTime;if(!t.isDuration(e)&&!t.isMoment(e)){e=t.duration(e)}var n=0;if(t.isDuration(e)){n=Math.floor(e.asDays())*24}return this.hours(n+e.hours()).minutes(e.minutes()).seconds(e.seconds()).milliseconds(e.milliseconds())}};X.prototype.stripTime=function(){var e=this.toArray();t.fn.utc.call(this);this.year(e[0]).month(e[1]).date(e[2]).hours(0).minutes(0).seconds(0).milliseconds(0);this._ambigTime=true;this._ambigZone=true;return this};X.prototype.hasTime=function(){return!this._ambigTime};X.prototype.stripZone=function(){var e=this.toArray();var n=this._ambigTime;t.fn.utc.call(this);this.year(e[0]).month(e[1]).date(e[2]).hours(e[3]).minutes(e[4]).seconds(e[5]).milliseconds(e[6]);if(n){this._ambigTime=true}this._ambigZone=true;return this};X.prototype.hasZone=function(){return!this._ambigZone};X.prototype.zone=function(e){if(e!=null){delete this._ambigTime;delete this._ambigZone}return t.fn.zone.apply(this,arguments)};X.prototype.local=function(){var e=this.toArray();var n=this._ambigZone;delete this._ambigTime;delete this._ambigZone;t.fn.local.apply(this,arguments);if(n){this.year(e[0]).month(e[1]).date(e[2]).hours(e[3]).minutes(e[4]).seconds(e[5]).milliseconds(e[6])}return this};X.prototype.utc=function(){delete this._ambigTime;delete this._ambigZone;return t.fn.utc.apply(this,arguments)};X.prototype.format=function(){if(arguments[0]){return J(this,arguments[0])}if(this._ambigTime){return $(this,"YYYY-MM-DD")}if(this._ambigZone){return $(this,"YYYY-MM-DD[T]HH:mm:ss")}return $(this)};X.prototype.toISOString=function(){if(this._ambigTime){return $(this,"YYYY-MM-DD")}if(this._ambigZone){return $(this,"YYYY-MM-DD[T]HH:mm:ss")}return t.fn.toISOString.apply(this,arguments)};X.prototype.isWithin=function(e,t){var n=V([this,e,t]);return n[0]>=n[1]&&n[0]<n[2]};X.prototype.isSame=function(e,n){var r;if(n){r=V([this,e],true);return t.fn.isSame.call(r[0],r[1],n)}else{e=u.moment.parseZone(e);return t.fn.isSame.call(this,e)&&Boolean(this._ambigTime)===Boolean(e._ambigTime)&&Boolean(this._ambigZone)===Boolean(e._ambigZone)}};e.each(["isBefore","isAfter"],function(e,n){X.prototype[n]=function(e,r){var i=V([this,e]);return t.fn[n].call(i[0],i[1],r)}});var Q={t:function(e){return $(e,"a").charAt(0)},T:function(e){return $(e,"A").charAt(0)}};u.formatRange=Y;var et={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"};var nt={};st.prototype={isHidden:true,options:null,el:null,documentMousedownProxy:null,margin:10,show:function(){if(this.isHidden){if(!this.el){this.render()}this.el.show();this.position();this.isHidden=false;this.trigger("show")}},hide:function(){if(!this.isHidden){this.el.hide();this.isHidden=true;this.trigger("hide")}},render:function(){var t=this;var n=this.options;this.el=e('<div class="fc-popover"/>').addClass(n.className||"").css({top:0,left:0}).append(n.content).appendTo(n.parentEl);this.el.on("click",".fc-close",function(){t.hide()});if(n.autoHide){e(document).on("mousedown",this.documentMousedownProxy=e.proxy(this,"documentMousedown"))}},documentMousedown:function(t){if(this.el&&!e(t.target).closest(this.el).length){this.hide()}},destroy:function(){this.hide();if(this.el){this.el.remove();this.el=null}e(document).off("mousedown",this.documentMousedownProxy)},position:function(){var t=this.options;var n=this.el.offsetParent().offset();var r=this.el.outerWidth();var i=this.el.outerHeight();var s=e(window);var o=N(this.el);var u;var a;var f;var l;var c;l=t.top||0;if(t.left!==undefined){c=t.left}else if(t.right!==undefined){c=t.right-r}else{c=0}if(o.is(window)||o.is(document)){o=s;u=0;a=0}else{f=o.offset();u=f.top;a=f.left}u+=s.scrollTop();a+=s.scrollLeft();if(t.viewportConstrain!==false){l=Math.min(l,u+o.outerHeight()-i-this.margin);l=Math.max(l,u+this.margin);c=Math.min(c,a+o.outerWidth()-r-this.margin);c=Math.max(c,a+this.margin)}this.el.css({top:l-n.top,left:c-n.left})},trigger:function(e){if(this.options[e]){this.options[e].apply(this,Array.prototype.slice.call(arguments,1))}}};ot.prototype={grid:null,rows:null,cols:null,containerEl:null,minX:null,maxX:null,minY:null,maxY:null,build:function(){this.grid.buildCoords(this.rows=[],this.cols=[]);this.computeBounds()},getCell:function(e,t){var n=null;var r=this.rows;var i=this.cols;var s=-1;var o=-1;var u;if(this.inBounds(e,t)){for(u=0;u<r.length;u++){if(t>=r[u][0]&&t<r[u][1]){s=u;break}}for(u=0;u<i.length;u++){if(e>=i[u][0]&&e<i[u][1]){o=u;break}}if(s>=0&&o>=0){n={row:s,col:o};n.grid=this.grid;n.date=this.grid.getCellDate(n)}}return n},computeBounds:function(){var e;if(this.containerEl){e=this.containerEl.offset();this.minX=e.left;this.maxX=e.left+this.containerEl.outerWidth();this.minY=e.top;this.maxY=e.top+this.containerEl.outerHeight()}},inBounds:function(e,t){if(this.containerEl){return e>=this.minX&&e<this.maxX&&t>=this.minY&&t<this.maxY}return true}};ut.prototype={coordMaps:null,build:function(){var e=this.coordMaps;var t;for(t=0;t<e.length;t++){e[t].build()}},getCell:function(e,t){var n=this.coordMaps;var r=null;var i;for(i=0;i<n.length&&!r;i++){r=n[i].getCell(e,t)}return r}};at.prototype={coordMap:null,options:null,isListening:false,isDragging:false,origCell:null,origDate:null,cell:null,date:null,mouseX0:null,mouseY0:null,mousemoveProxy:null,mouseupProxy:null,scrollEl:null,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollHandlerProxy:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,mousedown:function(e){if(k(e)){e.preventDefault();this.startListening(e);if(!this.options.distance){this.startDrag(e)}}},startListening:function(t){var n;var r;if(!this.isListening){if(t&&this.options.scroll){n=N(e(t.target));if(!n.is(window)&&!n.is(document)){this.scrollEl=n;this.scrollHandlerProxy=R(e.proxy(this,"scrollHandler"),100);this.scrollEl.on("scroll",this.scrollHandlerProxy)}}this.computeCoords();if(t){r=this.getCell(t);this.origCell=r;this.origDate=r?r.date:null;this.mouseX0=t.pageX;this.mouseY0=t.pageY}e(document).on("mousemove",this.mousemoveProxy=e.proxy(this,"mousemove")).on("mouseup",this.mouseupProxy=e.proxy(this,"mouseup")).on("selectstart",this.preventDefault);this.isListening=true;this.trigger("listenStart",t)}},computeCoords:function(){this.coordMap.build();this.computeScrollBounds()},mousemove:function(e){var t;var n;if(!this.isDragging){t=this.options.distance||1;n=Math.pow(e.pageX-this.mouseX0,2)+Math.pow(e.pageY-this.mouseY0,2);if(n>=t*t){this.startDrag(e)}}if(this.isDragging){this.drag(e)}},startDrag:function(e){var t;if(!this.isListening){this.startListening()}if(!this.isDragging){this.isDragging=true;this.trigger("dragStart",e);t=this.getCell(e);if(t){this.cellOver(t,true)}}},drag:function(e){var t;if(this.isDragging){t=this.getCell(e);if(!ft(t,this.cell)){if(this.cell){this.cellOut()}if(t){this.cellOver(t)}}this.dragScroll(e)}},cellOver:function(e){this.cell=e;this.date=e.date;this.trigger("cellOver",e,e.date)},cellOut:function(){if(this.cell){this.trigger("cellOut",this.cell);this.cell=null;this.date=null}},mouseup:function(e){this.stopDrag(e);this.stopListening(e)},stopDrag:function(e){if(this.isDragging){this.stopScrolling();this.trigger("dragStop",e);this.isDragging=false}},stopListening:function(t){if(this.isListening){if(this.scrollEl){this.scrollEl.off("scroll",this.scrollHandlerProxy);this.scrollHandlerProxy=null}e(document).off("mousemove",this.mousemoveProxy).off("mouseup",this.mouseupProxy).off("selectstart",this.preventDefault);this.mousemoveProxy=null;this.mouseupProxy=null;this.isListening=false;this.trigger("listenStop",t);this.origCell=this.cell=null;this.origDate=this.date=null}},getCell:function(e){return this.coordMap.getCell(e.pageX,e.pageY)},trigger:function(e){if(this.options[e]){this.options[e].apply(this,Array.prototype.slice.call(arguments,1))}},preventDefault:function(e){e.preventDefault()},computeScrollBounds:function(){var e=this.scrollEl;var t;if(e){t=e.offset();this.scrollBounds={top:t.top,left:t.left,bottom:t.top+e.outerHeight(),right:t.left+e.outerWidth()}}},dragScroll:function(e){var t=this.scrollSensitivity;var n=this.scrollBounds;var r,i;var s,o;var u=0;var a=0;if(n){r=(t-(e.pageY-n.top))/t;i=(t-(n.bottom-e.pageY))/t;s=(t-(e.pageX-n.left))/t;o=(t-(n.right-e.pageX))/t;if(r>=0&&r<=1){u=r*this.scrollSpeed*-1}else if(i>=0&&i<=1){u=i*this.scrollSpeed}if(s>=0&&s<=1){a=s*this.scrollSpeed*-1}else if(o>=0&&o<=1){a=o*this.scrollSpeed}}this.setScrollVel(u,a)},setScrollVel:function(t,n){this.scrollTopVel=t;this.scrollLeftVel=n;this.constrainScrollVel();if((this.scrollTopVel||this.scrollLeftVel)&&!this.scrollIntervalId){this.scrollIntervalId=setInterval(e.proxy(this,"scrollIntervalFunc"),this.scrollIntervalMs)}},constrainScrollVel:function(){var e=this.scrollEl;if(this.scrollTopVel<0){if(e.scrollTop()<=0){this.scrollTopVel=0}}else if(this.scrollTopVel>0){if(e.scrollTop()+e[0].clientHeight>=e[0].scrollHeight){this.scrollTopVel=0}}if(this.scrollLeftVel<0){if(e.scrollLeft()<=0){this.scrollLeftVel=0}}else if(this.scrollLeftVel>0){if(e.scrollLeft()+e[0].clientWidth>=e[0].scrollWidth){this.scrollLeftVel=0}}},scrollIntervalFunc:function(){var e=this.scrollEl;var t=this.scrollIntervalMs/1e3;if(this.scrollTopVel){e.scrollTop(e.scrollTop()+this.scrollTopVel*t)}if(this.scrollLeftVel){e.scrollLeft(e.scrollLeft()+this.scrollLeftVel*t)}this.constrainScrollVel();if(!this.scrollTopVel&&!this.scrollLeftVel){this.stopScrolling()}},stopScrolling:function(){if(this.scrollIntervalId){clearInterval(this.scrollIntervalId);this.scrollIntervalId=null;this.computeCoords()}},scrollHandler:function(){if(!this.scrollIntervalId){this.computeCoords()}}};lt.prototype={options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,mouseY0:null,mouseX0:null,topDelta:null,leftDelta:null,mousemoveProxy:null,isFollowing:false,isHidden:false,isAnimating:false,start:function(t){if(!this.isFollowing){this.isFollowing=true;this.mouseY0=t.pageY;this.mouseX0=t.pageX;this.topDelta=0;this.leftDelta=0;if(!this.isHidden){this.updatePosition()}e(document).on("mousemove",this.mousemoveProxy=e.proxy(this,"mousemove"))}},stop:function(t,n){function s(){this.isAnimating=false;r.destroyEl();this.top0=this.left0=null;if(n){n()}}var r=this;var i=this.options.revertDuration;if(this.isFollowing&&!this.isAnimating){this.isFollowing=false;e(document).off("mousemove",this.mousemoveProxy);if(t&&i&&!this.isHidden){this.isAnimating=true;this.el.animate({top:this.top0,left:this.left0},{duration:i,complete:s})}else{s()}}},getEl:function(){var e=this.el;if(!e){this.sourceEl.width();e=this.el=this.sourceEl.clone().css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}).appendTo(this.parentEl)}return e},destroyEl:function(){if(this.el){this.el.remove();this.el=null}},updatePosition:function(){var e;var t;this.getEl();if(this.top0===null){this.sourceEl.width();e=this.sourceEl.offset();t=this.el.offsetParent().offset();this.top0=e.top-t.top;this.left0=e.left-t.left}this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},mousemove:function(e){this.topDelta=e.pageY-this.mouseY0;this.leftDelta=e.pageX-this.mouseX0;if(!this.isHidden){this.updatePosition()}},hide:function(){if(!this.isHidden){this.isHidden=true;if(this.el){this.el.hide()}}},show:function(){if(this.isHidden){this.isHidden=false;this.updatePosition();this.getEl().show()}}};ct.prototype={view:null,cellHtml:"<td/>",rowHtml:function(e,t){var n=this.view;var r=this.getHtmlRenderer("cell",e);var i="";var s;var o;t=t||0;for(s=0;s<n.colCnt;s++){o=n.cellToDate(t,s);i+=r(t,s,o)}i=this.bookendCells(i,e,t);return"<tr>"+i+"</tr>"},bookendCells:function(e,t,n){var r=this.view;var i=this.getHtmlRenderer("intro",t)(n||0);var s=this.getHtmlRenderer("outro",t)(n||0);var o=r.opt("isRTL");var u=o?s:i;var a=o?i:s;if(typeof e==="string"){return u+e+a}else{return e.prepend(u).append(a)}},getHtmlRenderer:function(e,t){var n=this.view;var r;var i;var s;var o;r=e+"Html";if(t){i=t+q(e)+"Html"}if(i&&(o=n[i])){s=n}else if(i&&(o=this[i])){s=this}else if(o=n[r]){s=n}else if(o=this[r]){s=this}if(typeof o==="function"){return function(e){return o.apply(s,arguments)||""}}return function(){return o||""}}};ht.prototype=P(ct.prototype);e.extend(ht.prototype,{el:null,coordMap:null,cellDuration:null,render:function(){this.bindHandlers()},destroy:function(){},buildCoords:function(e,t){},getCellDate:function(e){},getCellDayEl:function(e){},rangeToSegs:function(e,t){},bindHandlers:function(){var t=this;this.el.on("mousedown",function(n){if(!e(n.target).is(".fc-event-container *, .fc-more")&&!e(n.target).closest(".fc-popover").length){t.dayMousedown(n)}});this.bindSegHandlers()},dayMousedown:function(e){var t=this;var n=this.view;var r=n.opt("selectable");var i=null;var s;var o;var u;var a=new at(this.coordMap,{scroll:n.opt("dragScroll"),dragStart:function(){n.unselect()},cellOver:function(e,n){if(a.origDate){u=t.getCellDayEl(e);i=[n,a.origDate].sort(D);s=i[0];o=i[1].clone().add(t.cellDuration);if(r){t.renderSelection(s,o)}}},cellOut:function(e,n){i=null;t.destroySelection()},listenStop:function(e){if(i){if(i[0].isSame(i[1])){n.trigger("dayClick",u[0],s,e)}if(r){n.reportSelection(s,o,e)}}}});a.mousedown(e)},renderDrag:function(e,t,n){},destroyDrag:function(){},renderResize:function(e,t,n){},destroyResize:function(){},renderRangeHelper:function(e,t,n){var r=this.view;var i;if(!t&&r.opt("forceEventDuration")){t=r.calendar.getDefaultEventEnd(!e.hasTime(),e)}i=n?P(n.event):{};i.start=e;i.end=t;i.allDay=!(e.hasTime()||t&&t.hasTime());i.className=(i.className||[]).concat("fc-helper");if(!n){i.editable=false}this.renderHelper(i,n)},renderHelper:function(e,t){},destroyHelper:function(){},renderSelection:function(e,t){this.renderHighlight(e,t)},destroySelection:function(){this.destroyHighlight()},renderHighlight:function(e,t){},destroyHighlight:function(){},headHtml:function(){return""+'<div class="fc-row '+this.view.widgetHeaderClass+'">'+"<table>"+"<thead>"+this.rowHtml("head")+"</thead>"+"</table>"+"</div>"},headCellHtml:function(e,t,n){var r=this.view;var i=r.calendar;var s=r.opt("columnFormat");return""+'<th class="fc-day-header '+r.widgetHeaderClass+" fc-"+O[n.day()]+'">'+F(i.formatDate(n,s))+"</th>"},bgCellHtml:function(e,t,n){var r=this.view;var i=this.getDayClasses(n);i.unshift("fc-day",r.widgetContentClass);return'<td class="'+i.join(" ")+'" data-date="'+n.format()+'"></td>'},getDayClasses:function(e){var t=this.view;var n=t.calendar.getNow().stripTime();var r=["fc-"+O[e.day()]];if(t.name==="month"&&e.month()!=t.intervalStart.month()){r.push("fc-other-month")}if(e.isSame(n,"day")){r.push("fc-today",t.highlightStateClass)}else if(e<n){r.push("fc-past")}else{r.push("fc-future")}return r}});e.extend(ht.prototype,{mousedOverSeg:null,isDraggingSeg:false,isResizingSeg:false,renderEvents:function(e){},getSegs:function(){},destroyEvents:function(){this.triggerSegMouseout()},renderSegs:function(t,n){var r=this.view;var i="";var s=[];var o;for(o=0;o<t.length;o++){i+=this.renderSegHtml(t[o],n)}e(i).each(function(n,i){var o=t[n];var u=r.resolveEventEl(o.event,e(i));if(u){u.data("fc-seg",o);o.el=u;s.push(o)}});return s},renderSegHtml:function(e,t){},eventsToSegs:function(t,n,r){var i=this;return e.map(t,function(e){return i.eventToSegs(e,n,r)})},eventToSegs:function(e,t,n){var r=e.start.clone().stripZone();var i=this.view.calendar.getEventEnd(e).stripZone();var s;var o,u;if(t&&n){u=L(r,i,t,n);s=u?[u]:[]}else{s=this.rangeToSegs(r,i)}for(o=0;o<s.length;o++){u=s[o];u.event=e;u.eventStartMS=+r;u.eventDurationMS=i-r}return s},bindSegHandlers:function(){var t=this;var n=this.view;e.each({mouseenter:function(e,n){t.triggerSegMouseover(e,n)},mouseleave:function(e,n){t.triggerSegMouseout(e,n)},click:function(e,t){return n.trigger("eventClick",this,e.event,t)},mousedown:function(r,i){if(e(i.target).is(".fc-resizer")&&n.isEventResizable(r.event)){t.segResizeMousedown(r,i)}else if(n.isEventDraggable(r.event)){t.segDragMousedown(r,i)}}},function(n,r){t.el.on(n,".fc-event-container > *",function(n){var i=e(this).data("fc-seg");if(i&&!t.isDraggingSeg&&!t.isResizingSeg){return r.call(this,i,n)}})})},triggerSegMouseover:function(e,t){if(!this.mousedOverSeg){this.mousedOverSeg=e;this.view.trigger("eventMouseover",e.el[0],e.event,t)}},triggerSegMouseout:function(e,t){t=t||{};if(this.mousedOverSeg){e=e||this.mousedOverSeg;this.mousedOverSeg=null;this.view.trigger("eventMouseout",e.el[0],e.event,t)}},segDragMousedown:function(e,t){var n=this;var r=this.view;var i=e.el;var s=e.event;var o,u;var a=new lt(e.el,{parentEl:r.el,opacity:r.opt("dragOpacity"),revertDuration:r.opt("dragRevertDuration"),zIndex:2});var f=new at(r.coordMap,{distance:5,scroll:r.opt("dragScroll"),listenStart:function(e){a.hide();a.start(e)},dragStart:function(t){n.triggerSegMouseout(e,t);n.isDraggingSeg=true;r.hideEvent(s);r.trigger("eventDragStart",i[0],s,t,{})},cellOver:function(t,i){var s=e.cellDate||f.origDate;var l=n.computeDraggedEventDates(e,s,i);o=l.start;u=l.end;if(r.renderDrag(o,u,e)){a.hide()}else{a.show()}},cellOut:function(){o=null;r.destroyDrag();a.show()},dragStop:function(e){var t=o&&!o.isSame(s.start);a.stop(!t,function(){n.isDraggingSeg=false;r.destroyDrag();r.showEvent(s);r.trigger("eventDragStop",i[0],s,e,{});if(t){r.eventDrop(i[0],s,o,e)}})},listenStop:function(){a.stop()}});f.mousedown(t)},computeDraggedEventDates:function(e,t,n){var r=this.view;var i=e.event;var s=i.start;var o=r.calendar.getEventEnd(i);var u;var a;var f;if(n.hasTime()===t.hasTime()){u=M(n,t);a=s.clone().add(u);if(i.end===null){f=null}else{f=o.clone().add(u)}}else{a=n;f=null}return{start:a,end:f}},segResizeMousedown:function(e,t){function l(){n.destroyResize();r.showEvent(s)}var n=this;var r=this.view;var i=e.el;var s=e.event;var o=s.start;var u=r.calendar.getEventEnd(s);var a=null;var f;f=new at(this.coordMap,{distance:5,scroll:r.opt("dragScroll"),dragStart:function(t){n.triggerSegMouseout(e,t);n.isResizingSeg=true;r.trigger("eventResizeStart",i[0],s,t,{})},cellOver:function(t,i){if(i.isBefore(o)){i=o}a=i.clone().add(n.cellDuration);if(a.isSame(u)){a=null;l()}else{n.renderResize(o,a,e);r.hideEvent(s)}},cellOut:function(){a=null;l()},dragStop:function(e){n.isResizingSeg=false;l();r.trigger("eventResizeStop",i[0],s,e,{});if(a){r.eventResize(i[0],s,a,e)}}});f.mousedown(t)},getSegClasses:function(e,t,n){var r=e.event;var i=["fc-event",e.isStart?"fc-start":"fc-not-start",e.isEnd?"fc-end":"fc-not-end"].concat(r.className,r.source?r.source.className:[]);if(t){i.push("fc-draggable")}if(n){i.push("fc-resizable")}return i},getEventSkinCss:function(e){var t=this.view;var n=e.source||{};var r=e.color;var i=n.color;var s=t.opt("eventColor");var o=e.backgroundColor||r||n.backgroundColor||i||t.opt("eventBackgroundColor")||s;var u=e.borderColor||r||n.borderColor||i||t.opt("eventBorderColor")||s;var a=e.textColor||n.textColor||t.opt("eventTextColor");var f=[];if(o){f.push("background-color:"+o)}if(u){f.push("border-color:"+u)}if(a){f.push("color:"+a)}return f.join(";")}});dt.prototype=P(ht.prototype);e.extend(dt.prototype,{numbersVisible:false,cellDuration:t.duration({days:1}),bottomCoordPadding:0,rowEls:null,dayEls:null,helperEls:null,highlightEls:null,render:function(t){var n=this.view;var r="";var i;for(i=0;i<n.rowCnt;i++){r+=this.dayRowHtml(i,t)}this.el.html(r);this.rowEls=this.el.find(".fc-row");this.dayEls=this.el.find(".fc-day");this.dayEls.each(function(t,r){var i=n.cellToDate(Math.floor(t/n.colCnt),t%n.colCnt);n.trigger("dayRender",null,i,e(r))});ht.prototype.render.call(this)},destroy:function(){this.destroySegPopover()},dayRowHtml:function(e,t){var n=this.view;var r=["fc-row","fc-week",n.widgetContentClass];if(t){r.push("fc-rigid")}return""+'<div class="'+r.join(" ")+'">'+'<div class="fc-bg">'+"<table>"+this.rowHtml("day",e)+"</table>"+"</div>"+'<div class="fc-content-skeleton">'+"<table>"+(this.numbersVisible?"<thead>"+this.rowHtml("number",e)+"</thead>":"")+"</table>"+"</div>"+"</div>"},dayCellHtml:function(e,t,n){return this.bgCellHtml(e,t,n)},buildCoords:function(t,n){var r=this.view.colCnt;var i,s,o;this.dayEls.slice(0,r).each(function(t,r){i=e(r);s=i.offset().left;if(t){o[1]=s}o=[s];n[t]=o});o[1]=s+i.outerWidth();this.rowEls.each(function(n,r){i=e(r);s=i.offset().top;if(n){o[1]=s}o=[s];t[n]=o});o[1]=s+i.outerHeight()+this.bottomCoordPadding},getCellDate:function(e){return this.view.cellToDate(e)},getCellDayEl:function(e){return this.dayEls.eq(e.row*this.view.colCnt+e.col)},rangeToSegs:function(e,t){return this.view.rangeToSegments(e,t)},renderDrag:function(e,t,n){var r;this.renderHighlight(e,t||this.view.calendar.getDefaultEventEnd(true,e));if(n&&!n.el.closest(this.el).length){this.renderRangeHelper(e,t,n);r=this.view.opt("dragOpacity");if(r!==undefined){this.helperEls.css("opacity",r)}return true}},destroyDrag:function(){this.destroyHighlight();this.destroyHelper()},renderResize:function(e,t,n){this.renderHighlight(e,t);this.renderRangeHelper(e,t,n)},destroyResize:function(){this.destroyHighlight();this.destroyHelper()},renderHelper:function(t,n){var r=[];var i=this.renderEventRows([t]);this.rowEls.each(function(t,s){var o=e(s);var u=e('<div class="fc-helper-skeleton"><table/></div>');var a;if(n&&n.row===t){a=n.el.position().top}else{a=o.find(".fc-content-skeleton tbody").position().top}u.css("top",a).find("table").append(i[t].tbodyEl);o.append(u);r.push(u[0])});this.helperEls=e(r)},destroyHelper:function(){if(this.helperEls){this.helperEls.remove();this.helperEls=null}},renderHighlight:function(t,n){var r=this.rangeToSegs(t,n);var i=[];var s,o;var u;for(s=0;s<r.length;s++){o=r[s];u=e(this.highlightSkeletonHtml(o.leftCol,o.rightCol+1));u.appendTo(this.rowEls[o.row]);i.push(u[0])}this.highlightEls=e(i)},destroyHighlight:function(){if(this.highlightEls){this.highlightEls.remove();this.highlightEls=null}},highlightSkeletonHtml:function(e,t){var n=this.view.colCnt;var r="";if(e>0){r+='<td colspan="'+e+'"/>'}if(t>e){r+='<td colspan="'+(t-e)+'" class="fc-highlight" />'}if(n>t){r+='<td colspan="'+(n-t)+'"/>'}r=this.bookendCells(r,"highlight");return""+'<div class="fc-highlight-skeleton">'+"<table>"+"<tr>"+r+"</tr>"+"</table>"+"</div>"}});e.extend(dt.prototype,{segs:null,rowStructs:null,renderEvents:function(t){var n=this.rowStructs=this.renderEventRows(t);var r=[];this.rowEls.each(function(t,i){e(i).find(".fc-content-skeleton > table").append(n[t].tbodyEl);r.push.apply(r,n[t].segs)});this.segs=r},getSegs:function(){return(this.segs||[]).concat(this.popoverSegs||[])},destroyEvents:function(){var e;var t;ht.prototype.destroyEvents.call(this);e=this.rowStructs||[];while(t=e.pop()){t.tbodyEl.remove()}this.segs=null;this.destroySegPopover()},renderEventRows:function(e){var t=this.eventsToSegs(e);var n=[];var r;var i;t=this.renderSegs(t);r=this.groupSegRows(t);for(i=0;i<r.length;i++){n.push(this.renderEventRow(i,r[i]))}return n},renderSegHtml:function(e,t){var n=this.view;var r=n.opt("isRTL");var i=e.event;var s=n.isEventDraggable(i);var o=!t&&i.allDay&&e.isEnd&&n.isEventResizable(i);var u=this.getSegClasses(e,s,o);var a=this.getEventSkinCss(i);var f="";var l;u.unshift("fc-day-grid-event");if(!i.allDay&&e.isStart){f='<span class="fc-time">'+F(n.getEventTimeText(i))+"</span>"}l='<span class="fc-title">'+(F(i.title||"")||"&nbsp;")+"</span>";return'<a class="'+u.join(" ")+'"'+(i.url?' href="'+F(i.url)+'"':"")+(a?' style="'+a+'"':"")+">"+'<div class="fc-content">'+(r?l+" "+f:f+" "+l)+"</div>"+(o?'<div class="fc-resizer"/>':"")+"</a>"},renderEventRow:function(t,n){function y(t){while(p<t){g=(l[c-1]||[])[p];if(g){g.attr("rowspan",parseInt(g.attr("rowspan")||1,10)+1)}else{g=e("<td/>");d.append(g)}f[c][p]=g;l[c][p]=g;p++}}var r=this.view;var i=r.colCnt;var s=this.buildSegLevels(n);var o=Math.max(1,s.length);var u=e("<tbody/>");var a=[];var f=[];var l=[];var c,h;var p;var d;var v,m;var g;for(c=0;c<o;c++){h=s[c];p=0;d=e("<tr/>");a.push([]);f.push([]);l.push([]);if(h){for(v=0;v<h.length;v++){m=h[v];y(m.leftCol);g=e('<td class="fc-event-container"/>').append(m.el);if(m.leftCol!=m.rightCol){g.attr("colspan",m.rightCol-m.leftCol+1)}else{l[c][p]=g}while(p<=m.rightCol){f[c][p]=g;a[c][p]=m;p++}d.append(g)}}y(i);this.bookendCells(d,"eventSkeleton");u.append(d)}return{row:t,tbodyEl:u,cellMatrix:f,segMatrix:a,segLevels:s,segs:n}},buildSegLevels:function(e){var t=[];var n,r;var i;e.sort(pt);for(n=0;n<e.length;n++){r=e[n];for(i=0;i<t.length;i++){if(!vt(r,t[i])){break}}r.level=i;(t[i]||(t[i]=[])).push(r)}for(i=0;i<t.length;i++){t[i].sort(mt)}return t},groupSegRows:function(e){var t=this.view;var n=[];var r;for(r=0;r<t.rowCnt;r++){n.push([])}for(r=0;r<e.length;r++){n[e[r].row].push(e[r])}return n}});e.extend(dt.prototype,{segPopover:null,popoverSegs:null,destroySegPopover:function(){if(this.segPopover){this.segPopover.hide()}},limitRows:function(e){var t=this.rowStructs||[];var n;var r;for(n=0;n<t.length;n++){this.unlimitRow(n);if(!e){r=false}else if(typeof e==="number"){r=e}else{r=this.computeRowLevelLimit(n)}if(r!==false){this.limitRow(n,r)}}},computeRowLevelLimit:function(e){var t=this.rowEls.eq(e);var n=t.height();var r=this.rowStructs[e].tbodyEl.children();var i,s;for(i=0;i<r.length;i++){s=r.eq(i).removeClass("fc-limited");if(s.position().top+s.outerHeight()>n){return i}}return false},limitRow:function(t,n){function T(i){while(u<i){a={row:t,col:u};d=r.getCellSegs(a,n);if(d.length){g=l[n-1][u];x=r.renderMoreLink(a,d);S=e("<div/>").append(x);g.append(S);o.push(S[0])}u++}}var r=this;var i=this.view;var s=this.rowStructs[t];var o=[];var u=0;var a;var f;var l;var c;var h,p;var d;var v;var m;var g,y;var b;var w;var E,S,x;if(n&&n<s.segLevels.length){f=s.segLevels[n-1];l=s.cellMatrix;c=s.tbodyEl.children().slice(n).addClass("fc-limited").get();for(h=0;h<f.length;h++){p=f[h];T(p.leftCol);m=[];v=0;while(u<=p.rightCol){a={row:t,col:u};d=this.getCellSegs(a,n);m.push(d);v+=d.length;u++}if(v){g=l[n-1][p.leftCol];y=g.attr("rowspan")||1;b=[];for(w=0;w<m.length;w++){E=e('<td class="fc-more-cell"/>').attr("rowspan",y);d=m[w];a={row:t,col:p.leftCol+w};x=this.renderMoreLink(a,[p].concat(d));S=e("<div/>").append(x);E.append(S);b.push(E[0]);o.push(E[0])}g.addClass("fc-limited").after(e(b));c.push(g[0])}}T(i.colCnt);s.moreEls=e(o);s.limitedEls=e(c)}},unlimitRow:function(e){var t=this.rowStructs[e];if(t.moreEls){t.moreEls.remove();t.moreEls=null}if(t.limitedEls){t.limitedEls.removeClass("fc-limited");t.limitedEls=null}},renderMoreLink:function(t,n){var r=this;var i=this.view;return e('<a class="fc-more"/>').text(this.getMoreLinkText(n.length)).on("click",function(s){var o=i.opt("eventLimitClick");var u=i.cellToDate(t);var a=e(this);var f=r.getCellDayEl(t);var l=r.getCellSegs(t);var c=r.resliceDaySegs(l,u);var h=r.resliceDaySegs(n,u);if(typeof o==="function"){o=i.trigger("eventLimitClick",null,{date:u,dayEl:f,moreEl:a,segs:c,hiddenSegs:h},s)}if(o==="popover"){r.showSegPopover(u,t,a,c)}else if(typeof o==="string"){i.calendar.zoomTo(u,o)}})},showSegPopover:function(e,t,n,r){var i=this;var s=this.view;var o=n.parent();var u;var a;if(s.rowCnt==1){u=this.view.el}else{u=this.rowEls.eq(t.row)}a={className:"fc-more-popover",content:this.renderSegPopoverContent(e,r),parentEl:this.el,top:u.offset().top,autoHide:true,viewportConstrain:s.opt("popoverViewportConstrain"),hide:function(){i.segPopover.destroy();i.segPopover=null;i.popoverSegs=null}};if(s.opt("isRTL")){a.right=o.offset().left+o.outerWidth()+1}else{a.left=o.offset().left-1}this.segPopover=new st(a);this.segPopover.show()},renderSegPopoverContent:function(t,n){var r=this.view;var i=r.opt("theme");var s=t.format(r.opt("dayPopoverFormat"));var o=e('<div class="fc-header '+r.widgetHeaderClass+'">'+'<span class="fc-close '+(i?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span>'+'<span class="fc-title">'+F(s)+"</span>"+'<div class="fc-clear"/>'+"</div>"+'<div class="fc-body '+r.widgetContentClass+'">'+'<div class="fc-event-container"></div>'+"</div>");var u=o.find(".fc-event-container");var a;n=this.renderSegs(n,true);this.popoverSegs=n;for(a=0;a<n.length;a++){n[a].cellDate=t;u.append(n[a].el)}return o},resliceDaySegs:function(t,n){var r=e.map(t,function(e){return e.event});var i=n.clone().stripTime();var s=i.clone().add(1,"days");return this.eventsToSegs(r,i,s)},getMoreLinkText:function(e){var t=this.view;var n=t.opt("eventLimitText");if(typeof n==="function"){return n(e)}else{return"+"+e+" "+n}},getCellSegs:function(e,t){var n=this.rowStructs[e.row].segMatrix;var r=t||0;var i=[];var s;while(r<n.length){s=n[r][e.col];if(s){i.push(s)}r++}return i}});gt.prototype=P(ht.prototype);e.extend(gt.prototype,{slotDuration:null,snapDuration:null,minTime:null,maxTime:null,dayEls:null,slatEls:null,slatTops:null,highlightEl:null,helperEl:null,render:function(){this.processOptions();this.el.html(this.renderHtml());this.dayEls=this.el.find(".fc-day");this.slatEls=this.el.find(".fc-slats tr");this.computeSlatTops();ht.prototype.render.call(this)},renderHtml:function(){return""+'<div class="fc-bg">'+"<table>"+this.rowHtml("slotBg")+"</table>"+"</div>"+'<div class="fc-slats">'+"<table>"+this.slatRowHtml()+"</table>"+"</div>"},slotBgCellHtml:function(e,t,n){return this.bgCellHtml(e,t,n)},slatRowHtml:function(){var e=this.view;var n=e.calendar;var r=e.opt("isRTL");var i="";var s=this.slotDuration.asMinutes()%15===0;var o=t.duration(+this.minTime);var u;var a;var f;while(o<this.maxTime){u=e.start.clone().time(o);a=u.minutes();f='<td class="fc-axis fc-time '+e.widgetContentClass+'" '+e.axisStyleAttr()+">"+(!a?"<span>"+F(n.formatDate(u,e.opt("axisFormat")))+"</span>":"")+"</td>";i+="<tr "+(!a?"":'class="fc-minor"')+">"+(!r?f:"")+'<td class="'+e.widgetContentClass+'"/>'+(r?f:"")+"</tr>";o.add(this.slotDuration)}return i},processOptions:function(){var e=this.view;var n=e.opt("slotDuration");var r=e.opt("snapDuration");n=t.duration(n);r=r?t.duration(r):n;this.slotDuration=n;this.snapDuration=r;this.cellDuration=r;this.minTime=t.duration(e.opt("minTime"));this.maxTime=t.duration(e.opt("maxTime"))},rangeToSegs:function(e,t){var n=this.view;var r=[];var i;var s;var o;var u,a;e=e.clone().stripZone();t=t.clone().stripZone();for(s=0;s<n.colCnt;s++){o=n.cellToDate(0,s);u=o.clone().time(this.minTime);a=o.clone().time(this.maxTime);i=L(e,t,u,a);if(i){i.col=s;r.push(i)}}return r},resize:function(){this.computeSlatTops();this.updateSegVerticals()},buildCoords:function(n,r){var i=this.view.colCnt;var s=this.el.offset().top;var o=t.duration(+this.minTime);var u=null;var a,f;this.dayEls.slice(0,i).each(function(t,n){a=e(n);f=a.offset().left;if(u){u[1]=f}u=[f];r[t]=u});u[1]=f+a.outerWidth();u=null;while(o<this.maxTime){f=s+this.computeTimeTop(o);if(u){u[1]=f}u=[f];n.push(u);o.add(this.snapDuration)}u[1]=s+this.computeTimeTop(o)},getCellDate:function(e){var t=this.view;var n=t.calendar;return n.rezoneDate(t.cellToDate(0,e.col).time(this.minTime+this.snapDuration*e.row))},getCellDayEl:function(e){return this.dayEls.eq(e.col)},computeDateTop:function(e,n){return this.computeTimeTop(t.duration(e.clone().stripZone()-n.clone().stripTime()))},computeTimeTop:function(e){var t=(e-this.minTime)/this.slotDuration;var n;var r;var i;var s;t=Math.max(0,t);t=Math.min(this.slatEls.length,t);n=Math.floor(t);r=t-n;i=this.slatTops[n];if(r){s=this.slatTops[n+1];return i+(s-i)*r}else{return i}},computeSlatTops:function(){var t=[];var n;this.slatEls.each(function(r,i){n=e(i).position().top;t.push(n)});t.push(n+this.slatEls.last().outerHeight());this.slatTops=t},renderDrag:function(e,t,n){var r;if(n){this.renderRangeHelper(e,t,n);r=this.view.opt("dragOpacity");if(r!==undefined){this.helperEl.css("opacity",r)}return true}else{this.renderHighlight(e,t||this.view.calendar.getDefaultEventEnd(false,e))}},destroyDrag:function(){this.destroyHelper();this.destroyHighlight()},renderResize:function(e,t,n){this.renderRangeHelper(e,t,n)},destroyResize:function(){this.destroyHelper()},renderHelper:function(t,n){var r=this.renderEventTable([t]);var i=r.tableEl;var s=r.segs;var o,u;var a;for(o=0;o<s.length;o++){u=s[o];if(n&&n.col===u.col){a=n.el;u.el.css({left:a.css("left"),right:a.css("right"),"margin-left":a.css("margin-left"),"margin-right":a.css("margin-right")})}}this.helperEl=e('<div class="fc-helper-skeleton"/>').append(i).appendTo(this.el)},destroyHelper:function(){if(this.helperEl){this.helperEl.remove();this.helperEl=null}},renderSelection:function(e,t){if(this.view.opt("selectHelper")){this.renderRangeHelper(e,t)}else{this.renderHighlight(e,t)}},destroySelection:function(){this.destroyHelper();this.destroyHighlight()},renderHighlight:function(t,n){this.highlightEl=e(this.highlightSkeletonHtml(t,n)).appendTo(this.el)},destroyHighlight:function(){if(this.highlightEl){this.highlightEl.remove();this.highlightEl=null}},highlightSkeletonHtml:function(e,t){var n=this.view;var r=this.rangeToSegs(e,t);var i="";var s=0;var o,u;var a;var f,l;for(o=0;o<r.length;o++){u=r[o];if(s<u.col){i+='<td colspan="'+(u.col-s)+'"/>';s=u.col}a=n.cellToDate(0,s);f=this.computeDateTop(u.start,a);l=this.computeDateTop(u.end,a);i+="<td>"+'<div class="fc-highlight-container">'+'<div class="fc-highlight" style="top:'+f+"px;bottom:-"+l+'px"/>'+"</div>"+"</td>";s++}if(s<n.colCnt){i+='<td colspan="'+(n.colCnt-s)+'"/>'}i=this.bookendCells(i,"highlight");return""+'<div class="fc-highlight-skeleton">'+"<table>"+"<tr>"+i+"</tr>"+"</table>"+"</div>"}});e.extend(gt.prototype,{segs:null,eventSkeletonEl:null,renderEvents:function(t){var n=this.renderEventTable(t);this.eventSkeletonEl=e('<div class="fc-content-skeleton"/>').append(n.tableEl);this.el.append(this.eventSkeletonEl);this.segs=n.segs},getSegs:function(){return this.segs||[]},destroyEvents:function(){ht.prototype.destroyEvents.call(this);if(this.eventSkeletonEl){this.eventSkeletonEl.remove();this.eventSkeletonEl=null}this.segs=null},renderEventTable:function(t){var n=e("<table><tr/></table>");var r=n.find("tr");var i=this.eventsToSegs(t);var s;var o,u;var a,f;var l;i=this.renderSegs(i);s=this.groupSegCols(i);this.computeSegVerticals(i);for(a=0;a<s.length;a++){f=s[a];yt(f);l=e('<div class="fc-event-container"/>');for(o=0;o<f.length;o++){u=f[o];u.el.css(this.generateSegPositionCss(u));if(u.bottom-u.top<30){u.el.addClass("fc-short")}l.append(u.el)}r.append(e("<td/>").append(l))}this.bookendCells(r,"eventSkeleton");return{tableEl:n,segs:i}},updateSegVerticals:function(){var e=this.segs;var t;if(e){this.computeSegVerticals(e);for(t=0;t<e.length;t++){e[t].el.css(this.generateSegVerticalCss(e[t]))}}},computeSegVerticals:function(e){var t,n;for(t=0;t<e.length;t++){n=e[t];n.top=this.computeDateTop(n.start,n.start);n.bottom=this.computeDateTop(n.end,n.start)}},renderSegHtml:function(e,t){var n=this.view;var r=e.event;var i=n.isEventDraggable(r);var s=!t&&e.isEnd&&n.isEventResizable(r);var o=this.getSegClasses(e,i,s);var u=this.getEventSkinCss(r);var a;var f;var l;o.unshift("fc-time-grid-event");if(n.isMultiDayEvent(r)){if(e.isStart||e.isEnd){a=n.getEventTimeText(e.start,e.end);f=n.getEventTimeText(e.start,e.end,"LT");l=n.getEventTimeText(e.start,null)}}else{a=n.getEventTimeText(r);f=n.getEventTimeText(r,"LT");l=n.getEventTimeText(r.start,null)}return'<a class="'+o.join(" ")+'"'+(r.url?' href="'+F(r.url)+'"':"")+(u?' style="'+u+'"':"")+">"+'<div class="fc-content">'+(a?'<div class="fc-time"'+' data-start="'+F(l)+'"'+' data-full="'+F(f)+'"'+">"+"<span>"+F(a)+"</span>"+"</div>":"")+(r.title?'<div class="fc-title">'+F(r.title)+"</div>":"")+"</div>"+'<div class="fc-bg"/>'+(s?'<div class="fc-resizer"/>':"")+"</a>"},generateSegPositionCss:function(e){var t=this.view;var n=t.opt("isRTL");var r=t.opt("slotEventOverlap");var i=e.backwardCoord;var s=e.forwardCoord;var o=this.generateSegVerticalCss(e);var u;var a;if(r){s=Math.min(1,i+(s-i)*2)}if(n){u=1-s;a=i}else{u=i;a=1-s}o.zIndex=e.level+1;if(e.event.placeholder){u=0;a=0;o.width="100%";o.opacity="0.5";o["pointer-events"]="none";if(e.event.sendTop)o.zIndex=10;else o.zIndex=0}if(e.event.annotation){o.opacity=t.opt("annotationOpacity")}if("class_full"in e.event){if(e.event.class_full){o.border="1px solid #d9534f";o["box-shadow"]="0px 0px 3px #d9534f";o["border-radius"]="7px"}else{o.border="1px solid #5cb85c";o["box-shadow"]="0px 0px 3px #5cb85c";o["border-radius"]="7px"}}o.left=u*100+"%";o.right=a*100+"%";if(!e.event.placeholder){if(r&&e.forwardPressure){o[n?"marginLeft":"marginRight"]=10*2}}return o},generateSegVerticalCss:function(e){return{top:e.top,bottom:-e.bottom}},groupSegCols:function(e){var t=this.view;var n=[];var r;for(r=0;r<t.colCnt;r++){n.push([])}for(r=0;r<e.length;r++){n[e[r].col].push(e[r])}return n}});Ct.prototype={calendar:null,coordMap:null,el:null,start:null,end:null,intervalStart:null,intervalEnd:null,rowCnt:null,colCnt:null,isSelected:false,scrollerEl:null,scrollTop:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,documentMousedownProxy:null,documentDragStartProxy:null,init:function(){var t=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=t+"-widget-header";this.widgetContentClass=t+"-widget-content";this.highlightStateClass=t+"-state-highlight";this.documentMousedownProxy=e.proxy(this,"documentMousedown");this.documentDragStartProxy=e.proxy(this,"documentDragStart")},render:function(){this.updateSize();this.trigger("viewRender",this,this,this.el);e(document).on("mousedown",this.documentMousedownProxy).on("dragstart",this.documentDragStartProxy)},destroy:function(){this.unselect();this.trigger("viewDestroy",this,this,this.el);this.destroyEvents();this.el.empty();e(document).off("mousedown",this.documentMousedownProxy).off("dragstart",this.documentDragStartProxy)},incrementDate:function(e,t){},updateSize:function(e){if(e){this.recordScroll()}this.updateHeight();this.updateWidth()},updateWidth:function(){},updateHeight:function(){var e=this.calendar;this.setHeight(e.getSuggestedViewHeight(),e.isHeightAuto())},setHeight:function(e,t){},computeScrollerHeight:function(e){var t=this.el.add(this.scrollerEl);var n;t.css({position:"relative",left:-1});n=this.el.outerHeight()-this.scrollerEl.height();t.css({position:"",left:""});return e-n},recordScroll:function(){if(this.scrollerEl){this.scrollTop=this.scrollerEl.scrollTop()}},restoreScroll:function(){if(this.scrollTop!==null){this.scrollerEl.scrollTop(this.scrollTop)}},renderEvents:function(e){this.segEach(function(e){this.trigger("eventAfterRender",e.event,e.event,e.el)});this.trigger("eventAfterAllRender")},destroyEvents:function(){this.segEach(function(e){this.trigger("eventDestroy",e.event,e.event,e.el)})},resolveEventEl:function(t,n){var r=this.trigger("eventRender",t,t,n);if(r===false){n=null}else if(r&&r!==true){n=e(r)}return n},showEvent:function(e){this.segEach(function(e){e.el.css("visibility","")},e)},hideEvent:function(e){this.segEach(function(e){e.el.css("visibility","hidden")},e)},segEach:function(e,t){var n=this.getSegs();var r;for(r=0;r<n.length;r++){if(!t||n[r].event._id===t._id){e.call(this,n[r])}}},getSegs:function(){},renderDrag:function(e,t,n){},destroyDrag:function(){},documentDragStart:function(t,n){var r=this;var i=null;var s;if(this.opt("droppable")){s=new at(this.coordMap,{cellOver:function(e,t){i=t;r.renderDrag(t)},cellOut:function(){i=null;r.destroyDrag()}});e(document).one("dragstop",function(e,t){r.destroyDrag();if(i){r.trigger("drop",e.target,i,e,t)}});s.startDrag(t)}},select:function(e,t,n){this.unselect(n);this.renderSelection(e,t);this.reportSelection(e,t,n)},renderSelection:function(e,t){},reportSelection:function(e,t,n){this.isSelected=true;this.trigger("select",null,e,t,n)},unselect:function(e){if(this.isSelected){this.isSelected=false;this.destroySelection();this.trigger("unselect",null,e)}},destroySelection:function(){},documentMousedown:function(t){var n;if(this.isSelected&&this.opt("unselectAuto")&&k(t)){n=this.opt("unselectCancel");if(!n||!e(t.target).closest(n).length){this.unselect(t)}}}};kt.prototype=P(Ct.prototype);e.extend(kt.prototype,{dayGrid:null,dayNumbersVisible:false,weekNumbersVisible:false,weekNumberWidth:null,headRowEl:null,render:function(e,t,n){this.rowCnt=e;this.colCnt=t;this.dayNumbersVisible=n;this.weekNumbersVisible=this.opt("weekNumbers");this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible;this.el.addClass("fc-basic-view").html(this.renderHtml());this.headRowEl=this.el.find("thead .fc-row");this.scrollerEl=this.el.find(".fc-day-grid-container");this.dayGrid.coordMap.containerEl=this.scrollerEl;this.dayGrid.el=this.el.find(".fc-day-grid");this.dayGrid.render(this.hasRigidRows());Ct.prototype.render.call(this)},destroy:function(){this.dayGrid.destroy();Ct.prototype.destroy.call(this)},renderHtml:function(){return""+"<table>"+"<thead>"+"<tr>"+'<td class="'+this.widgetHeaderClass+'">'+this.dayGrid.headHtml()+"</td>"+"</tr>"+"</thead>"+"<tbody>"+"<tr>"+'<td class="'+this.widgetContentClass+'">'+'<div class="fc-day-grid-container">'+'<div class="fc-day-grid"/>'+"</div>"+"</td>"+"</tr>"+"</tbody>"+"</table>"},headIntroHtml:function(){if(this.weekNumbersVisible){return""+'<th class="fc-week-number '+this.widgetHeaderClass+'" '+this.weekNumberStyleAttr()+">"+"<span>"+F(this.opt("weekNumberTitle"))+"</span>"+"</th>"}},numberIntroHtml:function(e){if(this.weekNumbersVisible){return""+'<td class="fc-week-number" '+this.weekNumberStyleAttr()+">"+"<span>"+this.calendar.calculateWeekNumber(this.cellToDate(e,0))+"</span>"+"</td>"}},dayIntroHtml:function(){if(this.weekNumbersVisible){return'<td class="fc-week-number '+this.widgetContentClass+'" '+this.weekNumberStyleAttr()+"></td>"}},introHtml:function(){if(this.weekNumbersVisible){return'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"></td>"}},numberCellHtml:function(e,t,n){var r;if(!this.dayNumbersVisible){return"<td/>"}r=this.dayGrid.getDayClasses(n);r.unshift("fc-day-number");return""+'<td class="'+r.join(" ")+'" data-date="'+n.format()+'">'+n.date()+"</td>"},weekNumberStyleAttr:function(){if(this.weekNumberWidth!==null){return'style="width:'+this.weekNumberWidth+'px"'}return""},hasRigidRows:function(){var e=this.opt("eventLimit");return e&&typeof e!=="number"},updateWidth:function(){if(this.weekNumbersVisible){this.weekNumberWidth=S(this.el.find(".fc-week-number"))}},setHeight:function(e,t){var n=this.opt("eventLimit");var r;T(this.scrollerEl);b(this.headRowEl);this.dayGrid.destroySegPopover();if(n&&typeof n==="number"){this.dayGrid.limitRows(n)}r=this.computeScrollerHeight(e);this.setGridHeight(r,t);if(n&&typeof n!=="number"){this.dayGrid.limitRows(n)}if(!t&&x(this.scrollerEl,r)){y(this.headRowEl,C(this.scrollerEl));r=this.computeScrollerHeight(e);this.scrollerEl.height(r);this.restoreScroll()}},setGridHeight:function(e,t){if(t){E(this.dayGrid.rowEls)}else{w(this.dayGrid.rowEls,e,true)}},renderEvents:function(e){this.dayGrid.renderEvents(e);this.updateHeight();Ct.prototype.renderEvents.call(this,e)},getSegs:function(){return this.dayGrid.getSegs()},destroyEvents:function(){Ct.prototype.destroyEvents.call(this);this.recordScroll();this.dayGrid.destroyEvents()},renderDrag:function(e,t,n){return this.dayGrid.renderDrag(e,t,n)},destroyDrag:function(){this.dayGrid.destroyDrag()},renderSelection:function(e,t){this.dayGrid.renderSelection(e,t)},destroySelection:function(){this.dayGrid.destroySelection()}});f({fixedWeekCount:true});a.month=Lt;Lt.prototype=P(kt.prototype);e.extend(Lt.prototype,{name:"month",incrementDate:function(e,t){return e.clone().stripTime().add(t,"months").startOf("month")},render:function(e){var t;this.intervalStart=e.clone().stripTime().startOf("month");this.intervalEnd=this.intervalStart.clone().add(1,"months");this.start=this.intervalStart.clone();this.start=this.skipHiddenDays(this.start);this.start.startOf("week");this.start=this.skipHiddenDays(this.start);this.end=this.intervalEnd.clone();this.end=this.skipHiddenDays(this.end,-1,true);this.end.add((7-this.end.weekday())%7,"days");this.end=this.skipHiddenDays(this.end,-1,true);t=Math.ceil(this.end.diff(this.start,"weeks",true));if(this.isFixedWeeks()){this.end.add(6-t,"weeks");t=6}this.title=this.calendar.formatDate(this.intervalStart,this.opt("titleFormat"));kt.prototype.render.call(this,t,this.getCellsPerWeek(),true)},setGridHeight:function(e,t){t=t||this.opt("weekMode")==="variable";if(t){e*=this.rowCnt/6}w(this.dayGrid.rowEls,e,!t)},isFixedWeeks:function(){var e=this.opt("weekMode");if(e){return e==="fixed"}return this.opt("fixedWeekCount")}});a.basicWeek=At;At.prototype=P(kt.prototype);e.extend(At.prototype,{name:"basicWeek",incrementDate:function(e,t){return e.clone().stripTime().add(t,"weeks").startOf("week")},render:function(e){this.intervalStart=e.clone().stripTime().startOf("week");this.intervalEnd=this.intervalStart.clone().add(1,"weeks");this.start=this.skipHiddenDays(this.intervalStart);this.end=this.skipHiddenDays(this.intervalEnd,-1,true);this.title=this.calendar.formatRange(this.start,this.end.clone().subtract(1),this.opt("titleFormat")," — ");kt.prototype.render.call(this,1,this.getCellsPerWeek(),false)}});a.basicDay=Ot;Ot.prototype=P(kt.prototype);e.extend(Ot.prototype,{name:"basicDay",incrementDate:function(e,t){var n=e.clone().stripTime().add(t,"days");n=this.skipHiddenDays(n,t<0?-1:1);return n},render:function(e){this.start=this.intervalStart=e.clone().stripTime();this.end=this.intervalEnd=this.start.clone().add(1,"days");this.title=this.calendar.formatDate(this.start,this.opt("titleFormat"));kt.prototype.render.call(this,1,1,false)}});f({allDaySlot:true,allDayText:"all-day",scrollTime:"06:00:00",slotDuration:"00:30:00",axisFormat:_t,timeFormat:{agenda:Dt},minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:true});var Mt=5;Pt.prototype=P(Ct.prototype);e.extend(Pt.prototype,{timeGrid:null,dayGrid:null,axisWidth:null,noScrollRowEls:null,bottomRuleEl:null,bottomRuleHeight:null,render:function(t){this.rowCnt=1;this.colCnt=t;this.el.addClass("fc-agenda-view").html(this.renderHtml());this.scrollerEl=this.el.find(".fc-time-grid-container");this.timeGrid.coordMap.containerEl=this.scrollerEl;this.timeGrid.el=this.el.find(".fc-time-grid");this.timeGrid.render();this.bottomRuleEl=e('<hr class="'+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el);if(this.dayGrid){this.dayGrid.el=this.el.find(".fc-day-grid");this.dayGrid.render();this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()}this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)");Ct.prototype.render.call(this);this.resetScroll()},destroy:function(){this.timeGrid.destroy();if(this.dayGrid){this.dayGrid.destroy()}Ct.prototype.destroy.call(this)},renderHtml:function(){return""+"<table>"+"<thead>"+"<tr>"+'<td class="'+this.widgetHeaderClass+'">'+this.timeGrid.headHtml()+"</td>"+"</tr>"+"</thead>"+"<tbody>"+"<tr>"+'<td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/>'+'<hr class="'+this.widgetHeaderClass+'"/>':"")+'<div class="fc-time-grid-container">'+'<div class="fc-time-grid"/>'+"</div>"+"</td>"+"</tr>"+"</tbody>"+"</table>"},headIntroHtml:function(){var e;var t;var n;var r;if(this.opt("weekNumbers")){e=this.cellToDate(0,0);t=this.calendar.calculateWeekNumber(e);n=this.opt("weekNumberTitle");if(this.opt("isRTL")){r=t+n}else{r=n+t}return""+'<th class="fc-axis fc-week-number '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+">"+"<span>"+F(r)+"</span>"+"</th>"}else{return'<th class="fc-axis '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"></th>"}},dayIntroHtml:function(){return""+'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+">"+"<span>"+(this.opt("allDayHtml")||F(this.opt("allDayText")))+"</span>"+"</td>"},slotBgIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"></td>"},introHtml:function(){return'<td class="fc-axis" '+this.axisStyleAttr()+"></td>"},axisStyleAttr:function(){if(this.axisWidth!==null){return'style="width:'+this.axisWidth+'px"'}return""},updateSize:function(e){if(e){this.timeGrid.resize()}Ct.prototype.updateSize.call(this,e)},updateWidth:function(){this.axisWidth=S(this.el.find(".fc-axis"))},setHeight:function(e,t){var n;var r;if(this.bottomRuleHeight===null){this.bottomRuleHeight=this.bottomRuleEl.outerHeight()}this.bottomRuleEl.hide();this.scrollerEl.css("overflow","");T(this.scrollerEl);b(this.noScrollRowEls);if(this.dayGrid){this.dayGrid.destroySegPopover();n=this.opt("eventLimit");if(n&&typeof n!=="number"){n=Mt}if(n){this.dayGrid.limitRows(n)}}if(!t){r=this.computeScrollerHeight(e);if(x(this.scrollerEl,r)){y(this.noScrollRowEls,C(this.scrollerEl));r=this.computeScrollerHeight(e);this.scrollerEl.height(r);this.restoreScroll()}else{this.scrollerEl.height(r).css("overflow","hidden");this.bottomRuleEl.show()}}},resetScroll:function(){function i(){e.scrollerEl.scrollTop(r)}var e=this;var n=t.duration(this.opt("scrollTime"));var r=this.timeGrid.computeTimeTop(n);r=Math.ceil(r);if(r){r++}i();setTimeout(i,0)},renderEvents:function(e){var t=[];var n=[];var r=[];var i;var s;for(s=0;s<e.length;s++){if(e[s].allDay){t.push(e[s])}else{n.push(e[s])}}i=this.timeGrid.renderEvents(n);if(this.dayGrid){r=this.dayGrid.renderEvents(t)}this.updateHeight();Ct.prototype.renderEvents.call(this,e)},getSegs:function(){return this.timeGrid.getSegs().concat(this.dayGrid?this.dayGrid.getSegs():[])},destroyEvents:function(){Ct.prototype.destroyEvents.call(this);this.recordScroll();this.timeGrid.destroyEvents();if(this.dayGrid){this.dayGrid.destroyEvents()}},renderDrag:function(e,t,n){if(e.hasTime()){return this.timeGrid.renderDrag(e,t,n)}else if(this.dayGrid){return this.dayGrid.renderDrag(e,t,n)}},destroyDrag:function(){this.timeGrid.destroyDrag();if(this.dayGrid){this.dayGrid.destroyDrag()}},renderSelection:function(e,t){if(e.hasTime()||t.hasTime()){this.timeGrid.renderSelection(e,t)}else if(this.dayGrid){this.dayGrid.renderSelection(e,t)}},destroySelection:function(){this.timeGrid.destroySelection();if(this.dayGrid){this.dayGrid.destroySelection()}}});a.agendaWeek=Ht;Ht.prototype=P(Pt.prototype);e.extend(Ht.prototype,{name:"agendaWeek",incrementDate:function(e,t){return e.clone().stripTime().add(t,"weeks").startOf("week")},render:function(e){this.intervalStart=e.clone().stripTime().startOf("week");this.intervalEnd=this.intervalStart.clone().add(1,"weeks");this.start=this.skipHiddenDays(this.intervalStart);this.end=this.skipHiddenDays(this.intervalEnd,-1,true);this.title=this.calendar.formatRange(this.start,this.end.clone().subtract(1),this.opt("titleFormat")," — ");Pt.prototype.render.call(this,this.getCellsPerWeek())}});a.agendaDay=Bt;Bt.prototype=P(Pt.prototype);e.extend(Bt.prototype,{name:"agendaDay",incrementDate:function(e,t){var n=e.clone().stripTime().add(t,"days");n=this.skipHiddenDays(n,t<0?-1:1);return n},render:function(e){this.start=this.intervalStart=e.clone().stripTime();this.end=this.intervalEnd=this.start.clone().add(1,"days");this.title=this.calendar.formatDate(this.start,this.opt("titleFormat"));Pt.prototype.render.call(this,1)}});})